<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>241016</title>
    <style>
      /*variables*/
      :root {
        --light-green: #d5edeb;
        --green: #63dbd0;
        --brown: #403632;
        --light-grey: #eee;
        --white: #fff;
        --oswald-font: "Oswald", sans-serif;
      }

      /*general styling*/
      body {
        color: var(--brown);
        /*배경이미지 고정*/
        background: url(images/241016/bg-shadow.jpg) right bottom/cover fixed;
        text-align: center;
      }

      /*공통 속성*/
      p {
        line-height: 1.7;
      }
      img {
        max-width: 100%;
      }
      .title {
        font-family: var(--oswald-font);
        font-size: min(10vw, 4rem);
        margin-bottom: 2rem;
      }
      .btn {
        color: var(--white);
        background: var(--brown);
        border: 1px solid var(--brown);
        text-decoration: none;
        padding: 1rem;
        display: inline-block;
        margin: 2rem 0;
        transition: 0.4s;
      }
      /*==========================================*/

      .wrapper {
        max-width: 38rem;
        margin: auto;
        padding: 0 1rem;
      }
      /*loading*/
      #loading {
        background-color: var(--light-grey);
        position: fixed;
        inset: 0;
        z-index: 9999;
        display: grid;
        place-items: center;
      }
      #loading-screen {
        background-color: var(--light-green);
        position: fixed;
        inset: 0;
        z-index: 9998;
        translate: 0 100vh;
      }
      #loading p {
        font-size: 2rem;
        font-family: var(--oswald-font);
      }
      /*========================================*/
      /*nav메뉴*/
      .btn-menu {
        position: fixed;
        right: 1rem;
        top: 1rem;
        z-index: 4;
        padding: 0.5rem 1rem;
        border: 1px solid var(--brown);
        border-radius: 50%;
        width: 4rem;
        height: 4rem;
        transition: 0.4s;
      }

      .btn-menu svg {
        fill: var(--brown);
        width: 2rem;
        height: 2rem;
        margin-top: 0.25rem;
      }

      /*닫기 버튼*/
      #menu-close {
        border-color: var(--light-green);
      }
      #menu-close svg {
        fill: var(--light-green);
      }

      /*슬라이드 메뉴 패널*/
      #menu-panel {
        position: fixed;
        top: 0;
        right: 0;
        z-index: 4;
        padding: 8rem 2rem 2rem;
        width: max(32vw, 20rem);
        height: 100vh;
        background-color: var(--brown);
        box-shadow: 0 0 2rem var(--brown);
        font-family: var(--oswald-font);
        translate: 100vw; /*슬라이드 메뉴를 브라우저의 오른쪽 밖으로 이동시킴*/
      }
      .menu-list {
        list-style: none;
      }
      .menu-list li {
        margin: 1.5rem 0;
        opacity: 0; /*메뉴 리스트를 투명하게 만듬*/
      }
      .menu-list a {
        color: var(--light-green);
        text-decoration: none;
        font-size: 2rem;
      }
      /*===============================*/

      /*hero*/
      .hero {
        height: 100vh;
        position: relative;
      }
      .hero::after {
        content: "";
        width: 50%;
        height: 100vh;
        background: url("images/241016/bg-hero.jpg") center/cover;
        position: absolute;
        inset: 0;
      }
      .hero .title {
        position: absolute;
        top: 50%;
        left: 50%;
        translate: -50% -50%;
        z-index: 2;
        width: 100%;
        font-size: max(12vw, 3rem);
        line-height: 1.2;
      }

      /*concept*/
      .concept {
        margin: 8rem 0;
        /*오른쪽으로 80%만 색을 채워줌*/
        background-image: linear-gradient(
          to right,
          transparent 0%,
          transparent 20%,
          var(--light-grey) 20%,
          var(--light-grey) 100%
        );
      }
      .concept p {
        text-align: left;
        margin-bottom: 2rem;
      }

      /*gallery*/
      .gallery {
        display: flex;
        flex-direction: column-reverse; /*세로축 정렬*/
      }
      .gallery-image {
        width: min(100%, 36rem);
        margin: auto;
        position: relative;
      }
      .gallery-image::after {
        content: "";
        display: block;
        width: calc(100% - 2rem);
        height: calc(100% - 2.5rem);
        border: 3px solid var(--white);
        position: absolute;
        z-index: 3;
        top: 1rem;
        left: 1rem;
      }

      .gallery-image img {
        aspect-ratio: 3/4;
        object-fit: cover;
        width: 100%;
      }

      .gallery-thumbnails {
        list-style: none;
        display: grid;
        gap: 1rem;
        grid-template-columns: repeat(5, 1fr);
        margin: 1rem 0;
      }

      .gallery-thumbnails img {
        aspect-ratio: 3/4; /*가로 세로 비율을 3:4로 설정*/
        object-fit: cover;
        cursor: pointer;
      }
      /*shop*/
      .shop {
        background: url(images/241016/bg-hero.jpg) center top/cover;
        margin-top: 16rem;
        position: relative;
        height: 40rem;
      }
      .shop-content {
        background: var(--white);
        padding: 3rem;
        position: absolute;
        top: -8rem;
        width: 90vw;
        left: 0;
        right: 0; /*가운데 정렬*/
      }

      .shop h3 {
        margin: 1rem 0;
        padding-top: 2rem;
        font-weight: normal;
        border-top: 1px solid var(--light-grey);
      }

      /*desktop size*/
      @media (min-width: 800px) {
        /*브라우저 넓이가 800px 이상일 경우 적용*/
        .title {
          margin-bottom: 3rem;
        }
        .btn:hover {
          color: var(--brown);
          background: var(--light-green);
        }

        /*slide menu*/
        .btn-menu:hover {
          background-color: var(--light-green);
        }
        #menu-close:hover svg {
          fill: var(--brown);
        }
        .menu-list a:hover {
          transition: 0.4s;
          color: var(--green);
        }
        /*==============================*/

        .concept {
          display: flex;
          margin: 16rem 0;
        }
        .concept p {
          text-align-last: left;
        }
        .concent img {
          max-width: 38rem;
          margin: -6rem 0;
        }
        /*gallery*/
        .gallery {
          flex-direction: row;
        }
        .gallery-image {
          width: 50vw;
          margin: 0;
        }
        .gallery-image img {
          height: 100vh;
        }
        .gallery-content {
          width: 30vw;
        }
        .gallery-thumbnails {
          gap: 2vw;
          grid-template-columns: repeat(3, 1fr);
        }
        .gallery-thumbnails img:hover {
          box-shadow: 0 0 1rem rgba(0, 0, 0, 0.4);
          transition: 0.4s;
        }
        /*shop*/
        .shop {
          margin-top: 20rem;
          height: 50rem;
        }
      }
    </style>
  </head>
  <body>
    <!--로딩 화면 추가-->
    <div id="loading">
      <p>Loading...</p>
      <div id="loading-screen"></div>
    </div>

    <!--내비게이션 메뉴 추가-->
    <nav>
      <!--여닫기 버튼 구현-->
      <button id="menu-open" class="btn-menu">
        <svg
          width="800px"
          height="800px"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <title>메뉴 열기</title>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M2 7a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1zm0 5a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1zm1 4a1 1 0 1 0 0 2h18a1 1 0 1 0 0-2H3z"
          />
        </svg>
      </button>
      <div id="menu-panel">
        <button id="menu-close" class="btn-menu">
          <svg
            width="800px"
            height="800px"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>메뉴 닫기</title>
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M19.207 6.207a1 1 0 0 0-1.414-1.414L12 10.586 6.207 4.793a1 1 0 0 0-1.414 1.414L10.586 12l-5.793 5.793a1 1 0 1 0 1.414 1.414L12 13.414l5.793 5.793a1 1 0 0 0 1.414-1.414L13.414 12l5.793-5.793z"
            />
          </svg>
        </button>

        <!--메뉴 리스트-->
        <ul class="menu-list">
          <li><a href="#">Online Shop</a></li>
          <li><a href="#">Twitter</a></li>
          <li><a href="#">Instagram</a></li>
          <li><a href="#">YouTube</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
    </nav>

    <!--2 hero-->
    <section class="hero">
      <h1 class="title">WCB Fashion<br />Collection</h1>
    </section>

    <!--3 concept-->
    <section class="concept">
      <div class="wrapper">
        <h2 class="title">Concept</h2>
        <p>
          매일 당연했던 날들을 아주 조금 화려하게 꾸미고 싶다는 생각으로부터
          새로운 패션 브랜드가 생겨났습니다. 가볍고 부드러우며 착용감이 좋은
          소재를 베이스로 하여 어떤 순간에도 부드러운 미소로 지낼 수 있을
          거예요. WCB Fashion Collection에서 '당신다움'을 함께 찾아보시겠어요?
        </p>
      </div>
      <img src="images/241016/concept.jpg" alt="" />
    </section>

    <!--4 gallery-->
    <section class="gallery">
      <div class="gallery-image">
        <img src="images/241016/img1.jpg" alt="" />
      </div>
      <div class="gallery-content wrapper">
        <h2 class="title">Lookbook</h2>
        <ul class="gallery-thumbnails">
          <li><img src="images/241016/img1.jpg" alt="" /></li>
          <li><img src="images/241016/img2.jpg" alt="" /></li>
          <li><img src="images/241016/img3.jpg" alt="" /></li>
          <li><img src="images/241016/img4.jpg" alt="" /></li>
          <li><img src="images/241016/img5.jpg" alt="" /></li>
          <li><img src="images/241016/img6.jpg" alt="" /></li>
          <li><img src="images/241016/img7.jpg" alt="" /></li>
          <li><img src="images/241016/img8.jpg" alt="" /></li>
          <li><img src="images/241016/img9.jpg" alt="" /></li>
        </ul>
      </div>
    </section>

    <!--5 shop-->
    <section class="shop">
      <div class="shop-content wrapper">
        <h2 class="title">Shop</h2>
        <p>언제나 무료 배송. 편리한 온라인 샵을 이용해주세요.</p>
        <a class="btn" href="#">온라인 샵</a>

        <h3>롯폰기점</h3>
        <p>
          도쿄도 미나토구 롯폰기2-4-5<br />
          영업일:금・토・일・휴일<br />
          영업시간:11:00〜18:00
        </p>
      </div>
    </section>

    <script>
      //로딩에서 화면으로 이동
      const loadingAreaGrey = document.querySelector("#loading");
      const loadingAreaGreen = document.querySelector("#loading-screen");
      const loadingText = document.querySelector("#loading p");

      //문서가 전부 load되면 구문 실행
      addEventListener("load", () => {
        //로딩 중(회색 스크린) : 서서히 사라짐
        loadingAreaGrey.animate(
          {
            //동작
            opacity: [1, 0],
            visibility: "hidden",
          },
          {
            //옵션
            duration: 2000,
            delay: 1200,
            easing: "ease",
            fill: "forwards",
          }
        );

        //로딩 중(연녹색 스크린) : 아래에서 위로 이동
        loadingAreaGreen.animate(
          {
            translate: ["0 100vh", "0 0", "0 -100vh"],
          },
          {
            duration: 2000,
            delay: 800,
            easing: "ease",
            fill: "forwards",
          }
        );

        //로딩 중 텍스트(offset으로 타이밍 조정)
        //duration이 80% 될때까지 opacity가 1이고 80%~100%까지 opacity가 0으로 변경
        loadingText.animate(
          [
            {
              opacity: 1,
              offset: 0.8, //80%
            },
            {
              opacity: 0,
              offset: 1, //100%
            },
          ],
          {
            duration: 1200,
            easing: "ease",
            fill: "forwards",
          }
        );
      });

      //섬네일 이미지에 커서를 올리면 큰 이미지가 나타나는 애니메이션
      //이미지 갤러리
      const mainImage = document.querySelector(".gallery-image img");
      const thumbImages = document.querySelectorAll(".gallery-thumbnails img");
      //썸네일 이미지에 mouseover이벤트 리스너 추가
      thumbImages.forEach((thumbImage) =>
        thumbImage.addEventListener("mouseover", (e) => {
          //메인 이미지의 src속성을 이벤트가 발생된 요소의 src속성값으로 적용
          mainImage.src = e.target.src;
          //메인 이미지의 opacity를 0에서 1로 0.5초동안 변경
          mainImage.animate({ opacity: [0, 1] }, 500);
        })
      );

      //슬라이드 메뉴
      const menuOpen = document.querySelector("#menu-open");
      const menuClose = document.querySelector("#menu-close");
      const menuPanel = document.querySelector("#menu-panel");
      const menuItems = document.querySelectorAll("#menu-panel li");

      //애니메이션 옵션 설정
      const menuOptions = {
        duration: 1400,
        easing: "ease",
        fill: "forwards",
      };

      //메뉴 열기
      menuOpen.addEventListener("click", () => {
        //화면 오른쪽 밖에서 화면 안쪽으로 패널을 이동
        menuPanel.animate({ translate: ["100vw", 0] }, menuOptions);

        //링크를 하나씩 순서대로 표시
        menuItems.forEach((menuItem, idx) =>
          menuItem.animate(
            {
              opacity: [0, 1],
              translate: ["2rem", 0],
            },
            {
              duration: 2400,
              delay: 300 * idx, //인덱스를 가져와서 순서대로 딜레이를 따로 설정
              easing: "ease",
              fill: "forwards",
            }
          )
        );
      });

      //메뉴 닫기
      menuClose.addEventListener("click", () => {
        //메뉴 패널을 오른쪽 밖으로 이동시킴
        menuPanel.animate({ translate: [0, "100vw"] }, menuOptions);
        //메뉴 리스트는 한번에 동시에 서서히 사라지게함
        menuItems.forEach((menuItem) =>
          menuItem.animate({ opacity: [1, 0] }, menuOptions)
        );
      });

//  =============================================


//스크롤로 요소 표시
//관찰 대상이 범위 안에 들어오면 실행하는 동작
//entries = 관찰 대상 요소
//obs = 콜백을 호출한 IntersectionObserver

// const animateFade = (entries, obs) => {
//   entries.forEach(entry => {
//     if(entry.isIntersecting){ //요소가 보이는 영역에 들어오면 .isIntersecting = true
//       entry.target.animate(
//         {
//           opacity:[0,1],
//           filter:['blur(.4rem)','blur(0)'],
//           translate: ['0 4rem', 0]
//         },
//         {
//           duration: 2000,
//           easing: 'ease',
//           fill: 'forwards'
//         }
//       );
//       //부드럽게 한번 표시되었다면 관찰 중지
//       obs.unobserve(entry.target)
//     }
//   })
// }

// //관찰 설정
// const fadeObserver = new IntersectionObserver(animateFade)

// //.fadein을 관찰하도록 지시
// const fadeElements = document.querySelectorAll('.fadein');
// fadeElements.forEach(fadeElement => {
//   fadeObserver.observe(fadeElement)
// })
      


    </script>
  </body>
</html>
